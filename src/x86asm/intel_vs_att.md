# Intel vs. AT&T

В Unix-подобных операционках исторически было принятно использовать синтаксис
ассемблера AT&T. По умолчанию gcc будет пытаться распарсить именно его, а чтобы
переключиться на Intel, нужно написать перед кодом `.intel_syntax noprefix`.
Ключевые различия такие.

| AT&T | Intel |
| --- | --- |
| `lea (%rdi,%rsi), %eax` | `lea eax, [rdi + rsi]` |
| `mov $1, %rax` | `mov rax, 1` |
| `add %edi, 0x52(%rdx)` | `add [rdx + 0x52], edi` |

1. В синтаксисе Intel перед названиями регистров не нужно писать `%` (это и
   означает `noprefix`). Еще в синтаксисе AT&T перед константами пишется `$`, а
   в синтаксисе Intel он не нужен.
1. Чтобы задать адрес, в синтаксисе Intel используется конструкция вида
   `[base + index * scale + offset]` вместо `offset(base, index, scale)` в AT&T
   (index, scale и offset опциональные).
1. Результат операции в синтаксисе Intel записывается в первый операнд, а не в
   последний. Т.е. присваивание как бы происходит справа налево. А в варианте
   AT&T слева направо.

